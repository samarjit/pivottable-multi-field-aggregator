(function(){var e;(e=function(e){return"object"==typeof exports&&"object"==typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){return e.pivotUtilities.d3_renderers={Treemap:function(t,n){var r,i,l,u,o,d,a,c,s,f,h,p,y,g;for(l={localeStrings:{}},n=e.extend(l,n),s=e("<div>").css({width:"100%",height:"100%"}),h={name:"All",children:[]},r=function(e,t,n){var i,l,u,o,d,a;if(0===t.length)return void(e.value=n);for(null==e.children&&(e.children=[]),a=t.shift(),d=e.children,l=0,u=d.length;u>l;l++)if(i=d[l],i.name===a)return void r(i,t,n);return o={name:a},r(o,t,n),e.children.push(o)},c=t.getRowKeys(),o=0,d=c.length;d>o;o++)f=c[o],y=t.getAggregator(f,[]).value(),null!=y&&r(h,f,y);return i=d3.scale.category10(),g=e(window).width()/1.4,u=e(window).height()/1.4,a=10,p=d3.layout.treemap().size([g,u]).sticky(!0).value(function(e){return e.size}),d3.select(s[0]).append("div").style("position","relative").style("width",g+2*a+"px").style("height",u+2*a+"px").style("left",a+"px").style("top",a+"px").datum(h).selectAll(".node").data(p.padding([15,0,0,0]).value(function(e){return e.value}).nodes).enter().append("div").attr("class","node").style("background",function(e){return null!=e.children?"lightgrey":i(e.name)}).text(function(e){return e.name}).call(function(){this.style("left",function(e){return e.x+"px"}).style("top",function(e){return e.y+"px"}).style("width",function(e){return Math.max(0,e.dx-1)+"px"}).style("height",function(e){return Math.max(0,e.dy-1)+"px"})}),s}}})}).call(this);
//# sourceMappingURL=d3_renderers.min.js.map