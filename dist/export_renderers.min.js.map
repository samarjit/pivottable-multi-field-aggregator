{"version":3,"sources":["/source/export_renderers.coffee"],"names":[],"mappings":"CAAA,WAAA,GAAA,IAAA,EAAiB,SAAC,GACd,MAAqB,gBAAX,UAAyC,gBAAV,QACrC,EAAY,QAAQ,WACC,kBAAV,SAAyB,OAAO,IAC3C,QAAQ,UAAW,GAGnB,EAAY,UAEL,SAAC,SAEZ,GAAE,eAAe,kBAAmB,aAAc,SAAC,EAAW,GAC1D,GAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAeA,KAfA,GACI,kBAEJ,EAAO,EAAE,OAAO,EAAU,GAE1B,EAAU,EAAU,aACiB,IAAlB,EAAQ,QAA3B,EAAQ,SACR,EAAU,EAAU,aACiB,IAAlB,EAAQ,QAA3B,EAAQ,SACR,EAAW,EAAU,SACrB,EAAW,EAAU,SAErB,KAEA,KACA,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,WACI,EAAI,KAAK,EACb,IAAqB,IAAlB,EAAQ,QAAqC,IAArB,EAAQ,GAAG,OAClC,EAAI,KAAK,EAAU,oBAEnB,KAAA,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,WACI,EAAI,KAAK,EAAO,KAAK,KAI7B,KAFA,EAAO,KAAK,GAEZ,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,IAAA,CAEI,WADA,KACA,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,WACI,EAAI,KAAK,EAEb,KAAA,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,WACI,EAAM,EAAU,cAAc,EAAQ,GAElC,EAAI,KADL,MAAA,EAAA,QACU,EAAI,QAEJ,GACjB,GAAO,KAAK,GAEhB,IADA,EAAO,GACP,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,WACI,GAAQ,EAAE,KAAK,KAAM,IAEzB,OAAO,GAAE,cAAc,KAAK,GAAM,KAC1B,MAAQ,EAAE,QAAQ,QAAU,EAAK,KACjC,OAAS,EAAE,QAAQ,SAAW,EAAK","file":"export_renderers.min.js","sourcesContent":["callWithJQuery = (pivotModule) ->\r\n    if typeof exports is \"object\" and typeof module is \"object\" # CommonJS\r\n        pivotModule require(\"jquery\")\r\n    else if typeof define is \"function\" and define.amd # AMD\r\n        define [\"jquery\"], pivotModule\r\n    # Plain browser env\r\n    else\r\n        pivotModule jQuery\r\n        \r\ncallWithJQuery ($) ->\r\n\r\n    $.pivotUtilities.export_renderers = \"TSV Export\": (pivotData, opts) ->\r\n        defaults =\r\n            localeStrings: {}\r\n\r\n        opts = $.extend defaults, opts\r\n\r\n        rowKeys = pivotData.getRowKeys()\r\n        rowKeys.push [] if rowKeys.length == 0\r\n        colKeys = pivotData.getColKeys()\r\n        colKeys.push [] if colKeys.length == 0\r\n        rowAttrs = pivotData.rowAttrs\r\n        colAttrs = pivotData.colAttrs\r\n\r\n        result = []\r\n\r\n        row = []\r\n        for rowAttr in rowAttrs\r\n            row.push rowAttr\r\n        if colKeys.length == 1 and colKeys[0].length == 0\r\n            row.push pivotData.aggregatorName\r\n        else\r\n            for colKey in colKeys\r\n                row.push colKey.join(\"-\")\r\n\r\n        result.push row\r\n\r\n        for rowKey in rowKeys\r\n            row = []\r\n            for r in rowKey\r\n                row.push r\r\n\r\n            for colKey in colKeys\r\n                agg = pivotData.getAggregator(rowKey, colKey)\r\n                if agg.value()?\r\n                    row.push agg.value()\r\n                else\r\n                    row.push \"\"\r\n            result.push row\r\n        text = \"\"\r\n        for r in result\r\n            text += r.join(\"\\t\")+\"\\n\"\r\n        \r\n        return $(\"<textarea>\").text(text).css(\r\n                width: ($(window).width() / 2) + \"px\", \r\n                height: ($(window).height() / 2) + \"px\")\r\n    \r\n"],"sourceRoot":"/source/"}